<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Countdown</title>
  <meta name="description" content="Centered countdown with full-screen background and edge thumbnails." />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='46' fill='%23000'/%3E%3Ctext x='50' y='62' font-size='56' text-anchor='middle' fill='%23fff'%3E%F0%9F%95%9B%EF%B8%8F%3C/text%3E%3C/svg%3E" />
  <style>
    :root{
      --text: #f4f7ff;
      --muted: #b8c0d6;
      --glass: rgba(10,12,18,.36);
      --ring: rgba(255,255,255,.28);
      --shadow: 0 20px 60px rgba(0,0,0,.55);
      --radius: 18px;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      color: var(--text);
      background: #0b0c10;
      overflow: hidden;
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
    }

    /* Background slideshow */
    .bg, .bg2{
      position: fixed; inset: 0;
      background-position: center;
      background-size: cover;
      background-repeat: no-repeat;
      filter: brightness(.56) saturate(1.05);
      transition: opacity 1.1s ease;
    }
    .bg { opacity: 1; }
    .bg2{ opacity: 0; }
    .vignette{
      position: fixed; inset: 0; pointer-events: none;
      background: radial-gradient(80% 60% at 50% 40%, rgba(0,0,0,.0) 0%, rgba(0,0,0,.55) 100%);
    }

    /* Foreground layout */
    .wrap{
      position: relative; z-index: 2; height: 100%; width: 100%;
      display: grid; grid-template-rows: auto 1fr auto;
      place-items: center; padding: 20px;
      text-align: center;
    }

    header{
      width: 100%;
      display: grid; grid-template-columns: 1fr auto 1fr;
      align-items: center;
    }
    h1{
      grid-column: 2;
      margin: 0;
      font-weight: 800;
      letter-spacing: .4px;
      font-size: clamp(1.4rem, 1rem + 2.6vw, 3rem);
      text-shadow: 0 2px 16px rgba(0,0,0,.55);
      justify-self: center;
    }
    .controls{
      grid-column: 3;
      justify-self: end;
      display: flex; gap: 10px; align-items: center;
    }
    .btn{
      appearance: none; border: 1px solid rgba(255,255,255,.2);
      cursor: pointer; background: rgba(255,255,255,.12);
      color: var(--text); border-radius: 999px;
      padding: 8px 12px; font-weight: 700;
      backdrop-filter: blur(6px);
    }
    .btn[aria-pressed="true"]{ background: rgba(67,209,161,.28); border-color: rgba(67,209,161,.6); }

    .timer-card{
      background: var(--glass);
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
      border: 1px solid var(--ring);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: clamp(14px, 2vw, 22px);
      max-width: min(920px, 92vw);
      width: 100%;
      transition: all .25s ease;
    }
    .label{
      color: var(--muted);
      font-size: .95rem;
      margin-bottom: 8px;
    }
    .timer{
      display: grid;
      grid-template-columns: repeat(4, minmax(90px, 1fr));
      gap: clamp(8px, 2vw, 16px);
    }
    @media (max-width: 560px){
      .timer{ grid-template-columns: repeat(2, minmax(120px, 1fr)); }
    }
    .tbox{
      background: rgba(8,10,16,.55);
      border: 1px solid rgba(255,255,255,.18);
      border-radius: 14px;
      padding: clamp(12px, 2.2vw, 18px);
      text-align: center;
    }
    .num{
      font-variant-numeric: tabular-nums;
      font-weight: 900;
      font-size: clamp(2rem, 5.5vw, 3.2rem);
      line-height: 1.1; letter-spacing: .6px;
    }
    .lab{ margin-top: 6px; color: var(--muted); font-size: .95rem; }

    footer{ height: 1px; } /* placeholder */

    /* Fullscreen adjustments */
    .fs-active header{ display: none; }
    .fs-active .timer-card{
      position: fixed; left: 50%; bottom: 20px; transform: translateX(-50%);
      max-width: min(760px, 94vw);
      background: rgba(10,12,18,.28);
      border-color: rgba(255,255,255,.22);
    }

    /* ===== PHOTO WALL EDGES ===== */
    .edge{
      position: fixed; z-index: 3; display: none;
      backdrop-filter: blur(8px);
    }
    .edges-show .edge{ display: block; }

    .edge .panel{
      height: 100%; width: 100%;
      background: rgba(6,8,12,.42);
      border: 1px solid rgba(255,255,255,.18);
      border-radius: 16px;
      box-shadow: var(--shadow);
      overflow: auto;
      padding: 8px;
      display: flex; gap: 8px; flex-wrap: nowrap;
    }

    /* Positions/sizes */
    .edge.top    { left: 120px; right: 120px; top: 10px;  height: 92px; }
    .edge.bottom { left: 120px; right: 120px; bottom: 10px; height: 92px; }
    .edge.left   { left: 10px;  top: 120px; bottom: 120px; width: 92px; }
    .edge.right  { right: 10px; top: 120px; bottom: 120px; width: 92px; }

    .edge.top .panel, .edge.bottom .panel { flex-direction: row; }
    .edge.left .panel, .edge.right .panel {
      flex-direction: column;
    }

    .thumb{
      display:block; border-radius: 10px; overflow:hidden;
      border:2px solid transparent; background: #111; cursor:pointer;
      flex: 0 0 auto;
    }
    .edge.top .thumb, .edge.bottom .thumb { width: 110px; height: 70px; }
    .edge.left .thumb, .edge.right .thumb { width: 70px;  height: 110px; }

    .thumb img{ width:100%; height:100%; object-fit: cover; display:block; }
    .thumb[aria-current="true"]{ border-color: rgba(67,209,161,.9); }

    @media (max-width: 900px){
      .edge.top, .edge.bottom { left: 10px; right: 10px; }
      .edge.left, .edge.right { top: 100px; bottom: 100px; }
    }
  </style>
</head>
<body>
  <!-- Background slideshow -->
  <div class="bg" id="bg1" role="img" aria-label="Background photo"></div>
  <div class="bg2" id="bg2" role="img" aria-label="Background photo (next)"></div>
  <div class="vignette" aria-hidden="true"></div>

  <!-- Photo Wall edges -->
  <aside class="edge top"><div class="panel" id="edgeTop"></div></aside>
  <aside class="edge bottom"><div class="panel" id="edgeBottom"></div></aside>
  <aside class="edge left"><div class="panel" id="edgeLeft"></div></aside>
  <aside class="edge right"><div class="panel" id="edgeRight"></div></aside>

  <!-- Foreground -->
  <div class="wrap">
    <header>
      <div></div>
      <h1>⏳ Guess whos back</h1>
      <div class="controls">
        <button class="btn" id="thumbsBtn" aria-pressed="false" title="Toggle thumbnails">Thumbnails</button>
        <button class="btn" id="fsBtn" title="Fullscreen">Fullscreen</button>
      </div>
    </header>

    <main class="timer-card" aria-live="polite" aria-label="Countdown">
      <div class="label">Countdown to November 1, 2025 — 19:40</div>
      <div class="timer">
        <div class="tbox"><div class="num" id="days">00</div><div class="lab">Days</div></div>
        <div class="tbox"><div class="num" id="hours">00</div><div class="lab">Hours</div></div>
        <div class="tbox"><div class="num" id="mins">00</div><div class="lab">Minutes</div></div>
        <div class="tbox"><div class="num" id="secs">00</div><div class="lab">Seconds</div></div>
      </div>
    </main>

    <footer></footer>
  </div>

  <script>
    // ===== CONFIG =====
    const DEFAULT_TARGET = new Date("2025-11-01T19:40:00+03:00");
    const DEFAULT_LABEL  = "Guess whos back";
    const IMAGES = [
      { src: "images/IMG_20231224_192027.jpg", caption: "Photo 1" },
      { src: "images/IMG_20231224_192029.jpg", caption: "Photo 2" },
      // Add more images here if you like
    ];

    // ===== Countdown (locked) =====
    const pad = (n) => String(n).padStart(2, "0");
    let cdInterval = null;
    function startCountdown(targetDate){
      if (cdInterval) clearInterval(cdInterval);
      function tick(){
        const now = new Date();
        let diff = Math.max(0, targetDate - now);
        const d = Math.floor(diff / 86400000); diff -= d * 86400000;
        const h = Math.floor(diff / 3600000);  diff -= h * 3600000;
        const m = Math.floor(diff / 60000);    diff -= m * 60000;
        const s = Math.floor(diff / 1000);
        document.getElementById("days").textContent  = pad(d);
        document.getElementById("hours").textContent = pad(h);
        document.getElementById("mins").textContent  = pad(m);
        document.getElementById("secs").textContent  = pad(s);
      }
      tick();
      cdInterval = setInterval(tick, 1000);
    }
    startCountdown(DEFAULT_TARGET);

    // ===== Background slideshow =====
    const bg1 = document.getElementById("bg1");
    const bg2 = document.getElementById("bg2");
    let idx = 0;
    let onFirst = true;
    let autoTimer = null;
    const AUTO_MS = 6000;

    IMAGES.forEach(i => { const im = new Image(); im.src = i.src; });

    function setBG(div, i){
      const it = IMAGES[(i + IMAGES.length) % IMAGES.length];
      div.style.backgroundImage = `url('${it.src}')`;
      div.setAttribute("aria-label", it.caption || "Background photo");
    }

    function show(i){
      const next = (i + IMAGES.length) % IMAGES.length;
      if (onFirst){
        setBG(bg2, next);
        bg2.style.opacity = 1;
        bg1.style.opacity = 0;
      } else {
        setBG(bg1, next);
        bg1.style.opacity = 1;
        bg2.style.opacity = 0;
      }
      onFirst = !onFirst;
      idx = next;
      updateThumbHighlight();
      restartAuto();
    }

    function restartAuto(){
      if (autoTimer) clearInterval(autoTimer);
      autoTimer = setInterval(()=> show(idx+1), AUTO_MS);
    }

    setBG(bg1, 0);
    restartAuto();

    // Keyboard navigation
    window.addEventListener("keydown", (e)=>{
      if (e.key === "ArrowRight") show(idx+1);
      if (e.key === "ArrowLeft")  show(idx-1);
    });

    // Touch swipe
    let touchX = null;
    window.addEventListener("touchstart", (e)=>{ touchX = e.touches[0].clientX; }, {passive:true});
    window.addEventListener("touchend", (e)=>{
      if (touchX == null) return;
      const dx = e.changedTouches[0].clientX - touchX;
      touchX = null;
      if (Math.abs(dx) > 40){ dx > 0 ? show(idx-1) : show(idx+1); }
    });

    // ===== Fullscreen handling =====
    const fsBtn = document.getElementById("fsBtn");
    fsBtn.addEventListener("click", toggleFullscreen);
    function toggleFullscreen(){
      if (!document.fullscreenElement){
        document.documentElement.requestFullscreen?.();
      } else {
        document.exitFullscreen?.();
      }
    }
    document.addEventListener("fullscreenchange", ()=>{
      document.body.classList.toggle("fs-active", !!document.fullscreenElement);
    });

    // ===== Photo Wall (edges) =====
    const thumbsBtn = document.getElementById("thumbsBtn");
    const edgeTop = document.getElementById("edgeTop");
    const edgeBottom = document.getElementById("edgeBottom");
    const edgeLeft = document.getElementById("edgeLeft");
    const edgeRight = document.getElementById("edgeRight");

    function buildEdges(){
      // Clear
      [edgeTop, edgeBottom, edgeLeft, edgeRight].forEach(n => n.innerHTML = "");
      // Round-robin distribute across 4 edges for balance
      IMAGES.forEach((it, i) => {
        const thumb = makeThumb(it, i);
        const mod = i % 4;
        if (mod === 0) edgeTop.appendChild(thumb);
        else if (mod === 1) edgeRight.appendChild(thumb);
        else if (mod === 2) edgeBottom.appendChild(thumb);
        else edgeLeft.appendChild(thumb);
      });
      updateThumbHighlight();
    }

    function makeThumb(it, i){
      const a = document.createElement("a");
      a.href = "#"; a.className = "thumb";
      a.dataset.index = i;
      a.setAttribute("aria-label", it.caption || `Image ${i+1}`);
      const im = document.createElement("img");
      im.src = it.src; im.alt = it.caption || `Image ${i+1}`;
      a.appendChild(im);
      a.addEventListener("click", (ev)=>{ ev.preventDefault(); show(i); });
      return a;
    }

    function updateThumbHighlight(){
      document.querySelectorAll(".thumb").forEach(el => {
        const i = Number(el.dataset.index);
        el.setAttribute("aria-current", i === idx);
      });
    }

    thumbsBtn.addEventListener("click", ()=>{
      const isOn = document.body.classList.toggle("edges-show");
      thumbsBtn.setAttribute("aria-pressed", String(isOn));
      if (isOn && !edgeTop.childElementCount) buildEdges();
    });
  </script>
</body>
</html>
